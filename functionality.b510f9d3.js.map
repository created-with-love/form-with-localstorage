{"version":3,"sources":["createMessage.js","functionality.js"],"names":["createFeedbackMsg","name","message","id","today","Date","dd","String","getDate","padStart","mm","getMonth","yyyy","getFullYear","deleteMessage","currentMessage","document","querySelector","remove","inputName","submitBtn","feedbacklist","addEventListener","value","onDeleteBtnClick","onEditBtnClick","onSaveBtnClick","e","target","nodeName","classList","contains","feedbackCounter","feedbacklist1","messagesCount1","childElementCount","textContent","console","log","currentMessageID","currentControlsBox","currentinputName","currentTextArea","style","currentEditBtn","removeAttribute","insertAdjacentHTML","createSaveBtn","setAttribute","currentSaveBtn"],"mappings":"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","file":"functionality.b510f9d3.js","sourceRoot":"..","sourcesContent":["export function createFeedbackMsg(name, message, id) {\r\n\r\n// узнаю текущее время для передачи его около имени в отзыве\r\nvar today = new Date();\r\nvar dd = String(today.getDate()).padStart(2, '0');\r\nvar mm = String(today.getMonth() + 1).padStart(2, '0');\r\nvar yyyy = today.getFullYear();\r\n    today = mm + '/' + dd + '/' + yyyy;\r\n    \r\n  return `\r\n  <li class=\"feedback-message\" id=\"message-${id}\">\r\n    <form class=\"feedback-message__form\">\r\n        <label class=\"feedback-message__item\">\r\n            <span>Пользователь:</span>\r\n            <input type=\"text\" name=\"name\" class=\"input-name input-name-${id}\" value=\"${name}\" readonly />\r\n            </br>\r\n            <span>Оставил отзыв: ${today}</span>\r\n        </label>\r\n\r\n        <label class=\"feedback-message__item\">\r\n            <textarea name=\"message\" rows=\"6\" class=\"textarea textarea-${id} ta\" readonly>\r\n            ${message}\r\n            </textarea>\r\n        </label>\r\n    </form>\r\n    <div class=\"controls controls-${id}\">\r\n      <button type=\"button\" class=\"message-btn edit ${id} edit-${id}\">Редактировать</button>\r\n      <button type=\"button\" class=\"message-btn delete ${id}\">Удалить</button>\r\n    </div>\r\n</li>`;\r\n}\r\n\r\n\r\n\r\nexport function deleteMessage(id) {\r\n    const currentMessage = document.querySelector(`#message-${id}`);\r\n    currentMessage.remove();\r\n}\r\n\r\n\r\n\r\n\r\n","const inputName = document.querySelector('.input-name');\r\nconst submitBtn = document.querySelector('.submit-btn');\r\nconst feedbacklist = document.querySelector('.feedback-list');\r\nimport { deleteMessage } from './createMessage.js'\r\n\r\n\r\ninputName.addEventListener('focus', () => {\r\n    inputName.value = '';\r\n\r\n    \r\n})\r\n\r\ninputName.addEventListener('blur', () => {\r\n    if (inputName.value === '') {\r\n        inputName.value = \"Анонимус\";\r\n    }\r\n})\r\n\r\nfeedbacklist.addEventListener('click', onDeleteBtnClick);\r\nfeedbacklist.addEventListener('click', onEditBtnClick);\r\nfeedbacklist.addEventListener('click', onSaveBtnClick);\r\n\r\nfunction onDeleteBtnClick(e) {\r\n    if (e.target.nodeName !== 'BUTTON') return;\r\n    \r\n    // console.log(e.target.classList[2]);\r\n    if (e.target.classList.contains('delete')) {\r\n        deleteMessage(e.target.classList[2]);\r\n\r\n             const feedbackCounter = document.querySelector('.feedback-counter');\r\n           const feedbacklist1 = document.querySelector('.feedback-list');\r\n            let messagesCount1 = feedbacklist1.childElementCount +1;\r\n\r\n            if (messagesCount1 <= 1) {\r\n                feedbackCounter.textContent = \"Здесь еще нет отзывов, Вы можете оставить первый\";\r\n        }\r\n        \r\n\r\n    }\r\n\r\n\r\n  \r\n}\r\n\r\nfunction onEditBtnClick(e) {\r\n    if (e.target.nodeName !== 'BUTTON') return;\r\n    console.log(e.target.classList)\r\n    \r\n     if (e.target.classList.contains('edit')) {\r\n         const currentMessageID = (e.target.classList[2]);\r\n         const currentControlsBox = document.querySelector(`.controls-${currentMessageID}`)\r\n         \r\n         const currentinputName = document.querySelector(`.input-name-${currentMessageID}`);\r\n         const currentTextArea = document.querySelector(`.textarea-${currentMessageID}`);\r\n         currentTextArea.style = \"background-color: white;\";\r\n\r\n        const currentEditBtn = document.querySelector(`.edit-${currentMessageID}`);\r\n        currentEditBtn.style = \"display: none;\"\r\n         \r\n         currentinputName.style = \"background-color: white; border: 1px solid black; border-radius: 2px\"\r\n         currentinputName.removeAttribute('readonly');\r\n         currentTextArea.removeAttribute('readonly');\r\n         \r\n        currentControlsBox.insertAdjacentHTML('afterbegin', createSaveBtn(currentMessageID))\r\n    }\r\n\r\n}\r\n\r\n\r\nfunction createSaveBtn(id) {\r\n    return `\r\n    <button type=\"button\" class=\"message-btn save ${id} save-${id}\">Сохранить</button>\r\n    `\r\n}\r\n\r\nfunction onSaveBtnClick(e) {\r\n    if (e.target.nodeName !== 'BUTTON') return;\r\n\r\n    const currentMessageID = (e.target.classList[2]);\r\n    const currentinputName = document.querySelector(`.input-name-${currentMessageID}`);\r\n    const currentTextArea = document.querySelector(`.textarea-${currentMessageID}`);\r\n    const currentEditBtn = document.querySelector(`.edit-${currentMessageID}`);\r\n\r\n\r\n    if (e.target.classList.contains('save')) {\r\n        currentinputName.setAttribute('readonly', true);\r\n        currentTextArea.setAttribute('readonly', true);\r\n        currentinputName.style = \"background-color: blanchedalmond; border: 0;\"\r\n        \r\n        const currentSaveBtn = document.querySelector(`.save-${currentMessageID}`);\r\n        currentSaveBtn.remove();\r\n    \r\n        currentTextArea.style = \"background-color: rgb(242, 235, 226);\";\r\n        currentEditBtn.style = \"display: inline-block;\"\r\n    }\r\n    \r\n\r\n\r\n}\r\n\r\n\r\n\r\n// счетчик отзывов\r\n\r\n// const feedbacklist = document.querySelector('.feedback-list');\r\nconsole.log(feedbacklist)"]}